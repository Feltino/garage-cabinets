window.slate=window.slate||{},window.theme=window.theme||{},slate.Sections=function(){this.constructors={},this.instances=[],$(document).on("shopify:section:load",this._onSectionLoad.bind(this)).on("shopify:section:unload",this._onSectionUnload.bind(this)).on("shopify:section:select",this._onSelect.bind(this)).on("shopify:section:deselect",this._onDeselect.bind(this)).on("shopify:section:reorder",this._onReorder.bind(this)).on("shopify:block:select",this._onBlockSelect.bind(this)).on("shopify:block:deselect",this._onBlockDeselect.bind(this))},slate.Sections.prototype=$.extend({},slate.Sections.prototype,{_createInstance:function(a,b){var c=$(a),d=c.attr("data-section-id"),e=c.attr("data-section-type");if(b=b||this.constructors[e],"undefined"!=typeof b){var f=$.extend(new b(a),{id:d,type:e,container:a});this.instances.push(f)}},_onSectionLoad:function(a){var b=$("[data-section-id]",a.target)[0];b&&this._createInstance(b)},_onSectionUnload:function(a){var b=slate.utils.findInstance(this.instances,"id",a.detail.sectionId);b&&("function"==typeof b.onUnload&&b.onUnload(a),this.instances=slate.utils.removeInstance(this.instances,"id",a.detail.sectionId))},_onSelect:function(a){var b=slate.utils.findInstance(this.instances,"id",a.detail.sectionId);b&&"function"==typeof b.onSelect&&b.onSelect(a)},_onDeselect:function(a){var b=slate.utils.findInstance(this.instances,"id",a.detail.sectionId);b&&"function"==typeof b.onDeselect&&b.onDeselect(a)},_onReorder:function(a){var b=slate.utils.findInstance(this.instances,"id",a.detail.sectionId);b&&"function"==typeof b.onReorder&&b.onReorder(a)},_onBlockSelect:function(a){var b=slate.utils.findInstance(this.instances,"id",a.detail.sectionId);b&&"function"==typeof b.onBlockSelect&&b.onBlockSelect(a)},_onBlockDeselect:function(a){var b=slate.utils.findInstance(this.instances,"id",a.detail.sectionId);b&&"function"==typeof b.onBlockDeselect&&b.onBlockDeselect(a)},register:function(a,b){this.constructors[a]=b,$("[data-section-type="+a+"]").each(function(a,c){this._createInstance(c,b)}.bind(this))}}),Shopify&&"object"==typeof Shopify&&(Shopify.addValueToString=function(a,b){return $.each(b,function(b){a=a.replace("{{ "+b+" }}",this)}),a},Shopify.handleize=function(a){return a.toLowerCase().replace(/[-!"#$%&'* ,./:;<=>?@[\\\]_`{|}~]+/g,"-").replace(/[()]+/g,"").replace(/^-+|-+$/g,"")}),theme.Global=function(){function a(){this.load()}a.prototype=$.extend({},a.prototype,{load:function(){var a=window.navigator.userAgent.toLowerCase(),b=$(".scroll-offset-example");window.$window=$(window),window.$html=$("html"),window.$body=$html.find("body")}}),theme.Global=new a},theme.Maps=function(){function a(a){this.$container=$(a),this.$map=this.$container.find(h.map),this.key=this.$map.data("api-key"),"undefined"==typeof this.key||("loaded"===e?this.createMap():(f.push(this),"loading"!=e&&(e="loading","undefined"==typeof window.google&&$.getScript("https://maps.googleapis.com/maps/api/js?key="+this.key).then(function(){e="loaded",b()}))))}function b(){$.each(f,function(a,b){b.createMap()})}function c(a){var b=$.Deferred(),c=new google.maps.Geocoder,d=a.data("address-setting");return c.geocode({address:d},function(a,c){c!==google.maps.GeocoderStatus.OK&&b.reject(c),b.resolve(a)}),b}var d={zoom:14},e=null,f=[],g={addressNoResults:theme.strings.addressNoResults,addressQueryLimit:theme.strings.addressQueryLimit,addressError:theme.strings.addressError,authError:theme.strings.authError},h={section:"[data-section-type=\"map\"]",map:"[data-map]",mapOverlay:"[data-map-overlay]"},i={mapError:"map-section--load-error",errorMsg:"map-section__error errors text-center"};return window.gm_authFailure=function(){Shopify.designMode&&($(h.section).addClass(i.mapError),$(h.map).remove(),$(h.mapOverlay).after("<div class=\""+i.errorMsg+"\">"+theme.strings.authError+"</div>"))},a.prototype=_.assignIn({},a.prototype,{createMap:function(){var a=this.$map;return c(a).then(function(b){var c={zoom:d.zoom,center:b[0].geometry.location,draggable:!1,clickableIcons:!1,scrollwheel:!1,disableDoubleClickZoom:!0,disableDefaultUI:!0},e=this.map=new google.maps.Map(a[0],c),f=this.center=e.getCenter(),g=new google.maps.Marker({map:e,position:e.getCenter()});google.maps.event.addDomListener(window,"resize",$.debounce(250,function(){google.maps.event.trigger(e,"resize"),e.setCenter(f),a.removeAttr("style")}))}.bind(this)).fail(function(){var b;b="ZERO_RESULTS"===status?g.addressNoResults:"OVER_QUERY_LIMIT"===status?g.addressQueryLimit:"REQUEST_DENIED"===status?g.authError:g.addressError,Shopify.designMode&&a.parent().addClass(i.mapError).html("<div class=\""+i.errorMsg+"\">"+b+"</div>")})},onUnload:function(){0===this.$map.length||google.maps.event.clearListeners(this.map,"resize")}}),a}(),theme.ProductCountdown=function(){function a(){this.selectors={},this.load()}a.prototype=$.extend({},a.prototype,{load:function(){this.init($(".deal-clock"))},init:function(){var a=$(".deal-clock");a.each(function(){var a=$(this),b=a.data("date");b&&a.lofCountDown({TargetDate:b,DisplayFormat:"<div class='day'><span class='no'>%%D%%</span><span class='text'>days</span></div><div class='hours'><span class='no'>%%H%%</span><span class='text'>hours</span></div><div class='min'><span class='no'>%%M%%</span><span class='text'>min</span></div><div class='second'><span class='no'>%%S%%</span><span class='text'>sec</span></div>",FinishMessage:"Expired"})})}}),theme.ProductCountdown=new a},theme.Notifications=function(){function a(){this.selectors={elems:".popup-cookie"},this.settings={close_limit:40,translate_limit:50,opacity_limit:.4},this.load()}a.prototype=$.extend({},a.prototype,{load:function(){var a,b=this;$body.on("mousedown",this.selectors.elems,function(c){if(!("A"===c.target.tagName||$(c.target).parents("[data-js-action]").length)){b.is_holded=!0;var d=$(this),f=c.screenX;return a=0,d.addClass("animate"),jQuery("body").addClass("notifications-cookie"),setTimeout(function(){d.addClass("pressed")},0),$body.on("mousemove.notification",function(c){var e=c.screenX,g=Math.min(f+b.settings.translate_limit,Math.max(f-b.settings.translate_limit,e));a=g-f,d.removeClass("animate"),jQuery("body").removeClass("notifications-cookie"),setTimeout(function(){d.css({transform:"translateX("+a+"px) scale(0.95)",opacity:Math.max((b.settings.translate_limit-Math.abs(a))/b.settings.translate_limit,b.settings.opacity_limit)})},0),setTimeout(function(){d.addClass("animate"),jQuery("body").addClass("notifications-cookie")},0)}),$body.one("mouseup.notification",function(){d.trigger("mouseup")}),c.preventDefault(),!1}}),$body.on("mouseup",this.selectors.elems,function(){var c=$(this);b.is_holded=!1,$body.unbind("mousemove.notification mouseup.notification"),setTimeout(function(){if(Math.abs(a)>b.settings.close_limit){var d=c.find("[data-js-notification-inner]"),e=d.find("[data-js-action=\"close\"]").first();if(d.hasClass("d-none"))return;c.one("transitionend",function(){a=0,c.trigger("mouseup").trigger("transitionend"),e.trigger("click"),d.trigger("transitionend"),c.trigger("onpressedend")}),c.css({transform:"translateX("+(a+20)+"px) scale(0.95)",opacity:0})}else c.removeClass("pressed"),c.one("transitionend",function(){c.removeClass("animate"),jQuery("body").removeClass("notifications-cookie"),c.trigger("onpressedend")}),c.css({transform:"",opacity:""});"0s"===c.css("transition-duration")&&c.trigger("transitionend")},0)}),$body.on("close",this.selectors.elems,function(){var a=$(this);$body.unbind("mousemove.notification"),a.trigger("mouseup").trigger("transitionend")})},_cookies:function(a){var b=this,c=a.find(".cookies-inner");if(c.length){var d=c.find("[data-js-action=\"close\"]"),e=$.cookie("notification-cookies"),f=c.attr("data-js-show-once"),g=+c.attr("data-js-delay"),h=+c.attr("data-js-cookies-life");return"off"!==e&&setTimeout(function(){b._show(c,function(){d.one("click",function(){if(jQuery("body").removeClass("notifications-cookie"),"true"===f){var a=new Date;a.setTime(a.getTime()+86400000*h),$.cookie("notification-cookies","off",{expires:a,path:"/"})}$(this).off(),b._hide(c,function(){c.remove()})})})},1e3*g),d}},_products:function(){},_show:function(a,b,c){function d(){setTimeout(function(){a.addClass("visible")},0),"0s"===a.css("transition-duration")&&a.trigger("transitionend")}a.unbind("transitionend"),b&&a.one("transitionend",function(){b()}),a.removeClass("d-none"),a.addClass("animate"),jQuery("body").addClass("notifications-cookie");c?c(d):d()},_hide:function(a,b){a.unbind("transitionend"),a.one("transitionend",function(){jQuery("body").removeClass("notifications-cookie"),a.addClass("d-none").removeClass("animate").removeAttr("style"),a.parents(".popup-cookie").trigger("close"),b&&b()}),a.removeClass("visible"),"0s"===a.css("transition-duration")&&a.trigger("transitionend")},init:function(a){this._products(a),this._cookies(a)},destroy:function(a){a.find(".cookies-inner, .js-notification-products").find("[data-js-action=\"close\"]").off()}}),theme.Notifications=new a},theme.ProductCurrency=function(){function a(){}a.prototype=$.extend({},a.prototype,{setPrice:function(a,b,c){b=+b,c=+c;var d="",e=c&&c>b;a[e?"addClass":"removeClass"]("price-sale"),e&&(d+="<span class=\"old-price\">",d+=Shopify.formatMoney(c,theme.moneyFormat),d+="</span>",a[0].hasAttribute("data-js-show-sale-separator")&&(d+=theme.strings.priceSaleSeparator)),d+="<span>",d+=Shopify.formatMoney(b,theme.moneyFormat),d+="</span>",a.html(d)},update:function(){theme.multiple–°urrencies&&Currency.convertAll(window.shop_currency,jQuery(".currencies_ul .currency.selected").data("currency"),"span.money","money_format")}}),theme.ProductCurrency=new a},theme.ProductImagesNavigation=function(){function a(){this.selectors={images_nav:".js-product-images-navigation"},this.load()}a.prototype=$.extend({},a.prototype,{load:function(){var a=this;$body.on("click","[data-js-product-images-navigation]:not([data-disabled])",function(){var b=$(this),c=b.parents("[data-js-product]"),d=b.attr("data-js-product-images-navigation"),e=theme.ProductOptions.switchByImage(c,d,null,function(b){a._updateButtons(c,b.is_first,b.is_last)})})},switch:function(a,b){var c=a.find("[data-js-product-image] img");if(c.length){var d=b.update_variant.featured_image;if(d&&d.src||!b.json.images[0]||(d=b.json.images[0]),d&&d.src&&d.id!==c.attr("data-image-id")){var e=Shopify.resizeImage(d.src,c.width()+"x")+" 1x, "+Shopify.resizeImage(d.src,2*c.width()+"x")+" 2x";this.changeSrc(c,e,d.id),c.parents(this.selectors.images_nav).length&&this._updateButtons(a,+b.json.images[0].id==+d.id,+b.json.images[b.json.images.length-1].id==+d.id)}}},changeSrc:function(a,b,c){a.parent();c=c||"null",a.one("load",function(){}),a.attr("srcset",b).attr("data-image-id",c)},_updateButtons:function(a,b,c){a.find("[data-js-product-images-navigation=\"prev\"]")[b?"attr":"removeAttr"]("data-disabled","disabled"),a.find("[data-js-product-images-navigation=\"next\"]")[c?"attr":"removeAttr"]("data-disabled","disabled")}}),theme.ProductImagesNavigation=new a},theme.ProductOptions=function(){function a(){this.selectors={options:".js-product-options",options_attr:"[data-js-product-options]"},this.afterChange=[],this.load()}a.prototype=$.extend({},a.prototype,{load:function(){function a(a){var c=$(this);if(!(c.hasClass("active")||c.hasClass("disabled"))){var d=c.parents(b.selectors.options),e=c.parents("[data-property]"),f=e.find("[data-js-option-value]"),g=c.parents("[data-js-product]"),h=g.attr("data-json-product"),j={},k=null,l=!0;"click"===a.type&&(f.removeClass("active"),c.addClass("active")),b._loadJSON(g,h,function(a){var c=d.find("[data-js-option-value].active").add(d.find("option:selected"));$.each(c,function(){var a=$(this);j[a.parents("[data-property]").data("property")]=""+a.data("value")}),$.each(a.variants,function(){var b={},c=!0;if($.each(this.options,function(c){b[Shopify.handleize(a.options[c])]=Shopify.handleize(this)}),$.each(j,function(a){if(j[a]!==b[a])return c=!1,!1}),c&&j.length===b.length)return k=this,!1}),k||(k=b._getDefaultVariant(a),l=!1),b._switchVariant(g,{update_variant:k,json:a,current_values:j,is_avilable:l})})}}var b=this;$body.on("click",this.selectors.options+" [data-js-option-value]",a),$body.on("mouseenter",this.selectors.options+"[data-js-options-onhover] [data-js-option-value]",$.debounce(400,a)),$body.on("change","[data-js-option-select]",function(b,c){if(!c){var d=$(this).find("option:selected");a.call(d,b)}}),$body.on("change","[data-js-product-variants=\"control\"]",function(){var a=$(this),c=a.parents("[data-js-product]"),d=a.find("option:selected").attr("value"),e=c.attr("data-json-product"),f=null,g=!0;b._loadJSON(c,e,function(a){$.each(a.variants,function(){if(+this.id==+d)return f=this,!1}),f||(f=b._getDefaultVariant(a),g=!1),b._switchVariant(c,{update_variant:f,json:a,is_avilable:g,dontUpdateVariantsSelect:!0})})})},_loadJSON:function(a,b,c,d){if(a[0].hasAttribute("data-js-process-ajax-loading-json"))return void a.one("json-loaded",function(){c&&c(JSON.parse(a.attr("data-json-product")))});if(d=void 0===d||d,b)c&&c("object"==typeof b?b:JSON.parse(b));else{a.attr("data-js-process-ajax-loading-json",!0);var e=a.attr("data-product-handle"),f=$.ajax({type:"GET",url:"/products/"+e,data:{view:"get_json"},cache:!1,dataType:"html",success:function(d){b=JSON.parse(d),a.attr("data-json-product",JSON.stringify(b)),c&&c(b),a.trigger("json-loaded")},complete:function(){a.removeAttr("data-js-process-ajax-loading-json")}});return f}},switchByImage:function(a,b,c,d){var e=this,f=a.find("[data-js-product-image] img"),g=a.attr("data-json-product"),h=!1;this._loadJSON(a,g,function(g){var j,k,l=g.images,m="by_id"===b?+c:+f.attr("data-image-id"),n=!0;$.each(l,function(a){if(+this.id==m)return j=a,!1}),(j||0===j)&&("prev"===b&&0!==j?j--:"next"==b&&j!==l.length-1&&j++,$.each(g.variants,function(){if(this.featured_image&&+this.featured_image.id==+l[j].id)return k=this,!1}),!k&&(k=e._getDefaultVariant(g),k.featured_image=l[j],n=!1),e._updateOptions(a,{update_variant:k,json:g}),e._switchVariant(a,{update_variant:k,json:g,is_avilable:n}),h={index:j,image:l[j],is_first:0===j,is_last:j===l.length-1}),d(h)})},_switchVariant:function(a,b){b.update_variant.metafields=$.extend({},b.json.metafields),a.attr("data-product-variant-id",b.update_variant.id),this._updateContent(a,b)},_getDefaultVariant:function(a){var b={};return $.each(a.variants,function(){if(+this.id==+a.default_variant_id)return Object.assign(b,this),!1}),b},_updateContent:function(a,b){var c=a.attr("data-js-product-clone-id"),d=$("[data-js-product-clone=\""+c+"\"]");this._updateFormVariantInput(a,b),this._updatePrice(a,d,b),this._updateAddToCart(a,d,b),this._updateGallery(a,b),this._updateLinks(a,b),this._updateHistory(a,b),theme.StoreLists.checkProductStatus(a),theme.ProductImagesNavigation.switch(a,b),b.dontUpdateVariantsSelect||this._updateVariantsSelect(a,b),d.length&&(this._updateOptions(d,b,!0),theme.ProductImagesNavigation.switch(d,b))},_updateOptions:function(a,b,c){var d=a.find(this.selectors.options_attr);d.length&&(d.find("[data-js-option-value]").removeClass("active"),c?$.each(b.current_values,function(a,b){d.find("[data-property=\""+a+"\"] [data-js-option-value][data-value=\""+b+"\"]").addClass("active"),d.find("[data-js-option-select][data-property=\""+a+"\"]").val(b).trigger("change",[!0])}):$.each(b.json.options,function(a){d.find("[data-property=\""+Shopify.handleize(this)+"\"] [data-js-option-value][data-value=\""+Shopify.handleize(b.update_variant.options[a])+"\"]").addClass("active"),d.find("[data-js-option-select][data-property=\""+Shopify.handleize(this)+"\"]").val(b.update_variant.options[a]).trigger("change",[!0])}))},_updateFormVariantInput:function(a,b){var c=a.find("[data-js-product-variant-input]");c.attr("value",b.update_variant.id)},_updateVariantsSelect:function(a,b){var c=a.find("[data-js-product-variants]");c.length&&c.val(b.update_variant.id).change()},_updateAddToCart:function(a,b,c){var d=a.add(b).find("[data-js-product-button-add-to-cart]");d.length&&(c.is_avilable&&c.update_variant.available?d.removeAttr("disabled data-button-status"):d.attr("disabled","disabled").attr("data-button-status","sold-out"))},_updatePrice:function(a,b,c){var d=a.add(b).find("[data-js-product-price]"),e=a.find("[data-js-product-price-sale-details]");if(d.length&&theme.ProductCurrency.setPrice(d,c.update_variant.price,c.update_variant.compare_at_price),e.length){var f;$.each(c.json.variants_price_sale_details,function(){+this.id==+c.update_variant.id&&(f=this.details)}),e.html(f?f:"")[f?"removeClass":"addClass"]("d-none-important")}(d.length||e.length)&&theme.ProductCurrency.update()},_updateGallery:function(a,b){var c=a.find("[data-js-product-gallery]");if(c.find(".fotorama").length){var d=b.update_variant.featured_image;d&&d.src||!b.json.images[0]||(d=b.json.images[0]),c.productGallery("switchImageById",d.id)}},_updateLinks:function(a,b){var c=decodeURIComponent(window.location.origin)+"/products/"+b.json.handle+"?variant="+b.update_variant.id;a.find("a[href*=\"products/"+b.json.handle+"\"]").attr("href",c)},_updateHistory:function(a,b){var c=a.find(this.selectors.options);if(c.length&&c[0].hasAttribute("data-js-change-history")){var d=decodeURIComponent(window.location.origin)+"/products/"+b.json.handle+"?variant="+b.update_variant.id;history.replaceState({foo:"product"},d,d)}}}),theme.ProductOptions=new a},theme.StoreLists=function(){function a(a,b){this.namespace=a,this.selectors={button:".js-store-lists-add-"+a,button_remove:".js-store-lists-remove-"+a,button_clear:".js-store-lists-clear-"+a,has_items:"[data-js-store-lists-has-items-"+a+"]",dhas_items:"[data-js-store-lists-dhas-items-"+a+"]"},this.load(b)}function b(){this.load()}a.prototype=$.extend({},a.prototype,{checkProductStatus:function(a){a=a||$("[data-js-product]");var b=this,c=localStorage.getItem(this.current_storage),d=c?JSON.parse(c):[],e=$();$.each(d,function(){$.each(this,function(b,c){var d=a.filter("[data-product-handle=\""+c+"\"][data-product-variant-id=\""+b+"\"]");d.length&&(e=e.add(d))})}),a.not(e).find(b.selectors.button).removeAttr("data-button-status"),e.find(b.selectors.button).attr("data-button-status","added")}});b.prototype=$.extend({},b.prototype,{lists:{},load:function(){},checkProductStatus:function(){$.each(this.lists,function(){this.checkProductStatus()})}}),theme.StoreLists=new b};var Section={};Section.prototype=$.extend({},Section.prototype,{}),theme.Footbar=function(){function a(a){this.$container=$(a),this.namespace=".footbar",this.onLoad()}return a.prototype=$.extend({},Section.prototype,a.prototype,{onLoad:function(){theme.Notifications.init(this.$container)},onUnload:function(){this.$container.off(this.namespace),theme.Notifications.destroy(this.$container)}}),a}(),$(function(){theme.Global(),theme.ProductCurrency(),theme.Notifications(),theme.ProductCountdown(),theme.Maps(),theme.ProductImagesNavigation(),theme.ProductOptions(),theme.StoreLists();var a=new slate.Sections;a.register("footbar",theme.Footbar)}),$(document).ready(function(){var a=new slate.Sections;a.register("time",theme.ProductCountdown),a.register("map",theme.Maps)}),Shopify.Compare=function(){var a={howManyToShow:4,howManyToStoreInMemory:4,storeSelector:"add-product-compare",removeSelector:"remove-product-compare",showCompare:"show-compare",wrapperId:"product-compare",templateId:"product-comparison-template-wrapper",onComplete:null},b=[],c=null,d=null,e=0,f="",g={configuration:{expires:90,path:"/",domain:window.location.hostname},name:"shopify_product_compare",write:function(a){jQuery.cookie(this.name,a.join(" "),this.configuration)},read:function(){var a=[],b=jQuery.cookie(this.name);return"undefined"!=typeof b&&null!==b&&0<b.length&&(a=b.split(" ")),a},destroy:function(){jQuery.cookie(this.name,null,this.configuration)},remove:function(a){var b=this.read(),c=jQuery.inArray(a,b);-1!==c&&(b.splice(c,1),this.write(b))}},h=function(){if(jQuery(".loading").hide(),jQuery.fancybox(jQuery("#"+a.wrapperId),{autoDimensions:!1,height:500,width:1e3,autoSize:!1,transitionIn:"fade",transitionOut:"fade",afterShow:function(){$("#product-compare").removeClass(),1===e?$("#product-compare").addClass("one-prods"):2===e?$("#product-compare").addClass("two-prods"):3===e?$("#product-compare").addClass("three-prods"):4===e?$("#product-compare").addClass("four-prods"):void 0,e=0,window.show_multiple_currencies&&"undefined"!=typeof Currency&&Currency.convertAll(window.shop_currency,jQuery(".currencies_ul .currency.selected").data("currency"),"span.money","money_format")}}),a.onComplete)try{a.onComplete()}catch(a){}},i=function(a,b){if("undefined"!=typeof a){var c={features:b.features,availability:b.availability,options:b.options,vendor:b.vendor,collection:b.collection,rating:b.rating};b.features=b.features.replace(/___product_id___/gi,a.id),b.features=b.features.replace(/___product_url___/gi,a.uri),b.features=b.features.replace(/___product_handle___/gi,a.handle),b.features=b.features.replace("att-image-src=","src="),b.features=b.features.replace(/___product_image___/gi,a.featured_image),b.features=b.features.replace(/___product_title___/gi,a.title),b.features=b.features.replace(/___product_availability___/gi,a.available),b.features=b.features.replace(/___product_price___/gi,a.price),b.features=b.features.replace(/___product_decs___/gi,a.description),b.features=b.features.replace(/___product_label_sale___/gi,a.sale_label),b.features=b.features.replace(/___product_label_new___/gi,a.new_label),a.has_compare_price&&(b.features=b.features.replace(/price price-compare product-old-price hidden/gi,"price price-compare product-old-price")),b.features=b.features.replace(/___product_old_price___/gi,a.compare_price),b.features=b.features.replace(/___product_variant_id___/gi,a.variants[0].id),b.availability=b.availability.replace(/___product_id___/gi,a.id),b.availability=b.availability.replace(/___product_availability___/gi,a.available),b.vendor=b.vendor.replace(/___product_id___/gi,a.id),b.vendor=b.vendor.replace(/___product_vendor___/gi,a.vendor),b.rating=b.rating.replace(/___product_id___/gi,a.id);var d="<span class=\"spr-starrating spr-summary-starrating\" itemtype=\"http://data-vocabulary.org/Rating\" itemscope=\"\" itemprop=\"rating\"><meta content=\"0.0\" itemprop=\"average\"><meta content=\"5\" itemprop=\"best\"><meta content=\"1\" itemprop=\"worst\"><i style=\"\" class=\"spr-icon spr-icon-star-empty\"></i><i style=\"\" class=\"spr-icon spr-icon-star-empty\"></i><i style=\"\" class=\"spr-icon spr-icon-star-empty\"></i><i style=\"\" class=\"spr-icon spr-icon-star-empty\"></i><i style=\"\" class=\"spr-icon spr-icon-star-empty\"></i></span>";if(0<a.rating.length&&(d=jQuery("<div>"+a.rating+"</div>"),d="<span class=\"spr-starrating spr-summary-starrating\" itemtype=\"http://data-vocabulary.org/Rating\" itemscope=\"\" itemprop=\"rating\">"+d.find("span.spr-starrating").html()+"</span>"),b.rating=b.rating.replace(/___product_rating___/gi,d),b.collection=b.collection.replace(/___product_id___/gi,a.id),b.collection=b.collection.replace(/___product_collection___/gi,a.collections),b.options=b.options.replace(/___product_id___/gi,a.id),1==a.options.length&&"Title"==a.options[0]&&1==a.option_value.option1.length&&"Default Title"==a.option_value.option1[0])b.options=b.options.replace(/___product_options___/gi,"");else{for(var e="",f=0;f<a.options.length;f++)0==f?e=e+"<span class=\"line\"><label class=\"heading\">"+a.options[f]+":</label>"+a.option_value.option1.join(",")+"</span>":1==f?e=e+"<span class=\"line\"><label class=\"heading\">"+a.options[f]+":</label>"+a.option_value.option2.join(",")+"</span>":2==f?e=e+"<span class=\"line\"><label class=\"heading\">"+a.options[f]+":</label>"+a.option_value.option3.join(",")+"</span>":void 0;b.options=b.options.replace(/___product_options___/gi,e)}return{before:c,after:b}}},j=function(c,d,k){b.length&&e<a.howManyToShow?jQuery.ajax({url:"/products/"+b[0],data:{view:"compare"},cache:!0,success:function(a){var f=jQuery.parseJSON(a),g=i(f,c);c=g.before,g=g.after,d.find("tr.features").append(g.features),d.find("tr.availability").append(g.availability),d.find("tr.vendor").append(g.vendor),d.find("tr.collection").append(g.collection),d.find("tr.options").append(g.options),d.find("tr.rating").append(g.rating),k.html(d.html()),b.shift(),e++,j(c,d,k)},error:function(){g.remove(b[0]),b.shift(),j(c,d,k)}}):(h(),d.find("td.product-col.comparison_features").html(f))};return{resizeImage:function(a,b){if(null==b)return a;if("master"==b)return a.replace(/http(s)?:/,"");var c=a.match(/\.(jpg|jpeg|gif|png|bmp|bitmap|tiff|tif)(\?v=\d+)?/i);if(null!=c){var d=a.split(c[0]),e=c[0];return(d[0]+"_"+b+e).replace(/http(s)?:/,"")}return null},showProductCompare:function(e){var e=e||{};if(jQuery.extend(a,e),b=g.read(),jQuery(".loading").show(),1>b.length)return jQuery.fancybox(jQuery("<p class=\"bc-error\"><span>No product in the Compare</span></p>"),{autoDimensions:!1,autoSize:!1,width:350,height:150,afterShow:function(){setTimeout(function(){jQuery.fancybox.close()},3e3)}}),-1;d=jQuery("#"+a.templateId),c=jQuery("#"+a.wrapperId);var h=d.find("td.product-col.comparison_features").html();d.find("td.product-col").remove(),0==f.length&&(f=h),a.howManyToShow&&d.length&&c.length&&j({features:"<td class=\"product-col comparison_features product-___product_id___\">"+h+"</td>",availability:"<td class=\"product-col comparison_availability product-___product_id___\">___product_availability___</td>",options:"<td class=\"product-col comparison_options product-___product_id___\">___product_options___</td>",vendor:"<td class=\"product-col comparison_vendor product-___product_id___\">___product_vendor___<span class=\"shopify-product-reviews-badge\" data-id=\"___product_id___\"></span></td>",collection:"<td class=\"product-col comparison_collection product-___product_id___\">___product_collection___</td>",rating:"<td class=\"product-col comparison_rating product-___product_id___\">___product_rating___</td>"},d,c)},getConfig:function(){return a},clearList:function(){g.destroy()},removeProductCompare:function(b){var b=b||{};jQuery.extend(a,b);var c=g.read();if(jQuery(".loading").show(),0<b.handle.length){var d=b.handle,e=jQuery.inArray(d,c);-1!==e&&c.splice(e,1),g.write(c)}jQuery(".compare-icon").children("span.number").text(c.length)},recordProductCompare:function(b){var b=b||{};jQuery.extend(a,b),jQuery(".loading").show();var c=g.read();if(0<b.handle.length){var d=b.handle,e=jQuery.inArray(d,c);return-1===e?c.length<a.howManyToStoreInMemory?(c.push(d),c=c.splice(0,a.howManyToStoreInMemory),g.write(c),void jQuery(".compare-icon").children("span.number").text(c.length)):void jQuery.fancybox(jQuery("<p class=\"bc-error\"><span>Your compare list is full</span></p>"),{autoDimensions:!1,autoSize:!1,width:350,height:150,afterShow:function(){setTimeout(function(){jQuery.fancybox.close()},3e3)}}):void jQuery.fancybox(jQuery("<p class=\"bc-error\"><span>Product already on compare list</span></p>"),{autoDimensions:!1,autoSize:!1,width:350,height:150,afterShow:function(){setTimeout(function(){jQuery.fancybox.close()},3e3)}})}},initCompare:function(b){var c=this,d=g.read();if($.cookie("compareSelector")){var e=$(".add-to-compare[data-handle-product=\""+$.cookie("compareSelector")+"\"]");e.addClass("active")}console.log(d.length),jQuery(".compare-icon").children("span.number").text(d.length);var b=b||{};jQuery.extend(a,b),jQuery("a."+a.storeSelector).bind("click",function(){jQuery(this).addClass("active"),$.cookie("compareSelector",jQuery(this).attr("data-handle-product")),jQuery(".loading").show(),setTimeout(function(){jQuery(".loading").hide()},2e3);var a=jQuery(this).attr("data-handle-product");c.recordProductCompare({handle:a}),setTimeout(function(){c.showProductCompare()},2e3)});var f="a."+a.removeSelector;jQuery("body").delegate(f,"click",function(b){b.preventDefault();var d=jQuery(this).attr("data-handle-product"),e=jQuery(this).attr("data-id-product");jQuery("#"+a.wrapperId).find("td.product-col.product-"+e).remove(),c.removeProductCompare({handle:d})}),jQuery("a."+a.showCompare).bind("click",function(){c.showProductCompare()})}}}();
theme.ProductOptions = function() {
    function a() {
        this.selectors = {
            options: ".js-product-options",
            options_attr: "[data-js-product-options]"
        },
        this.afterChange = [],
        this.load()
    }
  a.prototype = $.extend({}, a.prototype, {
    load: function() {
        function a(a) {
            var c = $(this);
            if (!(c.hasClass("active") || c.hasClass("disabled"))) {
                var d = c.parents(b.selectors.options);
                var e = d.find("[data-js-option-value]");
                
                // Remove "active" class from all other elements
                e.removeClass("active");

                // Add "active" class to the clicked element
                c.addClass("active");

                // Rest of your code...
            }
        }

        // Rest of your code...
    },

    // Rest of your code...
});
  }